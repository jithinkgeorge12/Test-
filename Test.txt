@Override
protected void successfulAuthentication(HttpServletRequest request,
                                        HttpServletResponse response,
                                        FilterChain chain,
                                        Authentication authResult) throws IOException {
    // ... Other code

    // Add the token to the response headers and allow credentials
    response.addHeader("Access-Control-Allow-Credentials", "true");
    response.addHeader("Authorization", "Bearer " + token);
}
